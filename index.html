<!doctype html>
<head><meta charset="utf-8">
<title>Array.prototype.includes</title>
<link rel="stylesheet" href="https://bterlson.github.io/ecmarkup/elements.css">

</head><body><div><h2>Table of Contents</h2><ol class="toc"><li><a href="#array-prototype-includes"><span class="secnum">1</span> Array.prototype.includes ( searchElement [ , fromIndex ] )</a></li><li><a href="#typedarray-prototype-includes"><span class="secnum">2</span> %TypedArray%.prototype.includes ( searchElement [ , fromIndex ] )</a></li></ol></div><emu-clause id="array-prototype-includes">
  <h1><span class="secnum">1</span>Array.prototype.includes ( searchElement [ , fromIndex ] )</h1>

  <emu-note><span class="note">Note</span>
    <code>includes</code> compares <var>searchElement</var> to the elements of the array, in ascending order, using the SameValueZero algorithm, and if found at any position, returns <emu-val>true</emu-val>; otherwise, <emu-val>false</emu-val> is returned.
  </emu-note>

  <p>The optional second argument <var>fromIndex</var> defaults to 0 (i.e. the whole array is searched). If it is greater than or equal to the length of the array, <emu-val>false</emu-val> is returned, i.e. the array will not be searched. If it is negative, it is used as the offset from the end of the array to compute <var>fromIndex</var>. If the computed index is less than 0, the whole array will be searched.</p>

  <p>When the <code>includes</code> method is called, the following steps are taken:</p>

  <emu-alg><ol>
  <li>Let <var>O</var> be the result of calling ToObject passing the <emu-val>this</emu-val> value as the argument.</li>
  <li><a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>O</var>).</li>
  <li>Let <var>len</var> be <a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength">ToLength</a>(<a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-get-o-p">Get</a>(<var>O</var>, <code>"length"</code>)).</li>
  <li><a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>len</var>).</li>
  <li>If <var>len</var> is 0, return <emu-val>false</emu-val>.</li>
  <li>Let <var>n</var> be <a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tointeger">ToInteger</a>(<var>fromIndex</var>). (If <var>fromIndex</var> is <emu-val>undefined</emu-val>, this step produces the value 0.)</li>
  <li><a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>n</var>).</li>
  <li>If <var>n</var> ≥ 0, then
    <ol>
      <li>Let <var>k</var> be <var>n</var>.</li>
    </ol>
  </li>
  <li>Else <var>n</var> &lt; 0,
    <ol>
      <li>Let <var>k</var> be <var>len</var> + <var>n</var>.</li>
      <li>If <var>k</var> &lt; 0, then let <var>k</var> be 0.</li>
    </ol>
  </li>
  <li>Repeat, while <var>k</var> <var>len</var>
    <ol>
      <li>Let <var>elementK</var> be the result of <a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-get-o-p">Get</a>(<var>O</var>, <a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tostring">ToString</a>(<var>k</var>)).</li>
      <li><a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>elementK</var>).</li>
      <li>If <a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero">SameValueZero</a>(<var>searchElement</var>, <var>elementK</var>) is <emu-val>true</emu-val>, return <emu-val>true</emu-val>.</li>
      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>
  <li>Return <emu-val>false</emu-val>.</li>
</ol></emu-alg>

  <p>The <code>length</code> property of the <code>includes</code> method is <emu-val>1</emu-val>.</p>
</emu-clause>

<emu-clause id="typedarray-prototype-includes">
  <h1><span class="secnum">2</span>%TypedArray%.prototype.includes ( searchElement [ , fromIndex ] )</h1>

  <p><code>%TypedArray%.prototype.includes</code> is a distinct function that implements the same algorithm as <code>Array.prototype.includes</code> except that the <emu-val>this</emu-val> object’s [[ArrayLength]] internal slot is accessed in place of performing a [[Get]] of <code>"length"</code>. The implementation of the algorithm may be optimized with the knowledge that the <emu-val>this</emu-val> value is an object that has a fixed length and whose integer indexed properties are not sparse. However, such optimization must not introduce any observable changes in the specified behaviour of the algorithm.</p>

  <p>This function is not generic. If the <emu-val>this</emu-val> value is not a object with a [[TypedArrayName]] internal slot, a <emu-val>TypeError</emu-val> exception is immediately thrown when this function is called.</p>

  <p>The <code>length</code> property of the <code>includes</code> method is <emu-val>1</emu-val>.</p>
</emu-clause>
</body>